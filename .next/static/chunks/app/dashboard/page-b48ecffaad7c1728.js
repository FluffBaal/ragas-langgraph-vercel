(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5400:function(e,s,t){Promise.resolve().then(t.bind(t,2803))},2803:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ee}});var a=t(7437),r=t(2265),n=t(5725),l=t(7689),i=t(2252),c=t(9658),o=t(2489),d=t(1994),x=t(3335);function m(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,x.m6)((0,d.W)(s))}function u(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}function h(e){return new Date(e).toLocaleString()}let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});g.displayName="Card";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:m("flex flex-col space-y-1.5 p-6",t),...r})});p.displayName="CardHeader";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:m("text-2xl font-semibold leading-none tracking-tight",t),...r})});j.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:m("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:m("p-6 pt-0",t),...r})});f.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:m("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var y=t(535);let b=(0,y.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:l=!1,...i}=e;return(0,a.jsx)("button",{className:m(b({variant:r,size:n,className:t})),ref:s,...i})});v.displayName="Button";let N=e=>{let{onUpload:s,maxFiles:t=10,maxSize:d=10485760,acceptedTypes:x=[".txt",".md",".pdf"],disabled:m=!1}=e,[h,p]=(0,r.useState)([]),[j,f]=(0,r.useState)([]),y=(0,r.useCallback)((e,a)=>{f([]);let r=[];if(a.forEach(e=>{let{file:s,errors:t}=e;t.forEach(e=>{"file-too-large"===e.code?r.push("".concat(s.name,": File too large (max ").concat(u(d),")")):"file-invalid-type"===e.code&&r.push("".concat(s.name,": Invalid file type"))})}),h.length+e.length>t&&(r.push("Too many files (max ".concat(t,")")),e=e.slice(0,t-h.length)),f(r),e.length>0){let t=[...h,...e];p(t),s(t)}},[h,t,d,s]),{getRootProps:b,getInputProps:N,isDragActive:w}=(0,n.uI)({onDrop:y,accept:{"text/plain":[".txt"],"text/markdown":[".md"],"application/pdf":[".pdf"]},maxSize:d,disabled:m}),_=e=>{let t=h.filter((s,t)=>t!==e);p(t),s(t)};return(0,a.jsxs)("div",{className:"w-full space-y-4",children:[(0,a.jsx)(g,{className:"p-6",children:(0,a.jsxs)("div",{...b(),className:"\n            border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all duration-200\n            ".concat(w?"border-blue-400 bg-blue-50 scale-105":"border-gray-300 hover:border-gray-400 hover:bg-gray-50","\n            ").concat(m?"opacity-50 cursor-not-allowed":"","\n          "),children:[(0,a.jsx)("input",{...N()}),(0,a.jsx)(l.Z,{className:"mx-auto h-12 w-12 mb-4 transition-colors ".concat(w?"text-blue-500":"text-gray-400")}),(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:w?"Drop files here":"Upload documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Drag and drop files here, or click to select files"}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Supports: ",x.join(", ")," (max ",u(d)," each)"]})]})}),j.length>0&&(0,a.jsxs)(g,{className:"p-4 border-red-200 bg-red-50",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 text-red-400 mr-2"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Upload Errors"})]}),(0,a.jsx)("ul",{className:"mt-2 text-sm text-red-700 space-y-1",children:j.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-red-400 rounded-full mr-2 flex-shrink-0"}),e]},s))})]}),h.length>0&&(0,a.jsxs)(g,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Uploaded Files (",h.length,")"]}),(0,a.jsx)(v,{variant:"outline",size:"sm",onClick:()=>{p([]),f([]),s([])},disabled:m,children:"Clear All"})]}),(0,a.jsx)("div",{className:"space-y-2",children:h.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-gray-400 mr-3 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[u(e.size)," â€¢ ",e.type||"Unknown type"]})]})]}),(0,a.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>_(s),disabled:m,className:"ml-2 h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})]},s))})]})]})},w=r.forwardRef((e,s)=>{let{className:t,value:r=0,max:n=100,...l}=e;return(0,a.jsx)("div",{ref:s,className:m("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all duration-300 ease-in-out",style:{transform:"translateX(-".concat(100-r/n*100,"%)")}})})});w.displayName="Progress";var _=t(8462),k=t(5863),C=t(7769),S=t(2208),q=t(8728),T=t(2735),Z=t(3276);let A=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsx)("div",{ref:s,className:"relative overflow-auto ".concat(t),...n,children:r})});A.displayName="ScrollArea";var E=t(8736);let F=e=>{let{documents:s,isVisible:t,onClose:n}=e,[l,i]=r.useState(0);return(console.log("ExtractedTextPreview render:",{isVisible:t,documentsCount:s.length}),t&&0!==s.length)?(0,a.jsxs)(g,{className:"w-full max-w-6xl mx-auto my-4",children:[(0,a.jsxs)(p,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(j,{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"h-5 w-5"}),"Extracted Text Preview"]}),(0,a.jsx)(v,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)(f,{children:[s.length>1&&(0,a.jsx)("div",{className:"flex gap-2 mb-4 border-b",children:s.map((e,s)=>(0,a.jsx)("button",{onClick:()=>i(s),className:"px-4 py-2 text-sm font-medium transition-colors ".concat(l===s?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),children:e.name},s))}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Document: ",s[l].name]}),s[l].pageCount&&(0,a.jsxs)("span",{children:["Total Pages: ",s[l].pageCount]})]}),(0,a.jsx)(A,{className:"h-96 w-full rounded-md border bg-gray-50 p-4",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm font-mono text-gray-800",children:s[l].content})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Character count: ",s[l].content.length.toLocaleString()]})]})]})]}):null};async function R(e){try{let s=(e.size/1024).toFixed(2);return{content:"[PDF Document: ".concat(e.name,"]\n\nPDF preview requires server-side processing for security reasons.\nFile size: ").concat(s,' KB\n\nThe PDF content will be extracted and processed when you click "Generate".\n\nNote: PDF processing is fully functional - only the preview is limited.'),pageCount:void 0}}catch(s){return console.error("PDF preview error:",s),{content:"[PDF Document: ".concat(e.name,"]\n\nPDF preview encountered an error.\nFile size: ").concat((e.size/1024).toFixed(2)," KB\n\nThe PDF will still be processed correctly during generation."),pageCount:void 0}}}let G=e=>{let{onGenerate:s,isGenerating:t,progress:n,currentStage:l,results:i}=e,[c,o]=(0,r.useState)([]),[d,x]=(0,r.useState)({maxQuestions:10,evolutionTypes:["simple","multi_context","reasoning"],complexityTarget:5,language:"en",includeMetadata:!0,openaiApiKey:""}),[m,u]=(0,r.useState)(!1),[h,y]=(0,r.useState)(!1),[b,A]=(0,r.useState)(!1),[E,G]=(0,r.useState)([]),[D,z]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("openai_api_key");e&&x(s=>({...s,openaiApiKey:e}))},[]),(0,r.useEffect)(()=>{d.openaiApiKey&&localStorage.setItem("openai_api_key",d.openaiApiKey)},[d.openaiApiKey]),(0,r.useEffect)(()=>{let e=async()=>{console.log("Extracting text from files:",c),z(!0);let e=[];for(let s of c)try{let t,a;if(s.name.toLowerCase().endsWith(".pdf")){let e=await R(s);t=e.content,a=e.pageCount}else t=await s.text(),console.log("Extracted ".concat(t.length," characters from ").concat(s.name));e.push({name:s.name,content:t.length>5e3?t.substring(0,5e3)+"\n\n[... truncated for preview ...]":t,pageCount:a})}catch(t){console.error("Error reading file:",t),e.push({name:s.name,content:"Error reading file: ".concat(t,"\n\nFile type: ").concat(s.type||"unknown","\nFile size: ").concat((s.size/1024).toFixed(2)," KB")})}console.log("Extracted documents:",e),G(e),z(!1)};c.length>0?e():(G([]),A(!1),z(!1))},[c]);let P=async()=>{0!==c.length&&await s(c,d)},I={simple:"Simple Evolution",multi_context:"Multi-Context Evolution",reasoning:"Reasoning Evolution"};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)(g,{children:[(0,a.jsxs)(p,{className:"flex justify-between items-center",children:[(0,a.jsxs)(j,{className:"flex items-center",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5 mr-2"}),"Upload Documents"]}),c.length>0&&(0,a.jsx)(v,{variant:"outline",size:"sm",onClick:()=>A(!b),disabled:t||D,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-1 animate-spin"}),"Extracting..."]}):(0,a.jsxs)(a.Fragment,{children:[b?(0,a.jsx)(C.Z,{className:"h-4 w-4 mr-1"}):(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-1"}),b?"Hide":"Show"," Preview"]})})]}),(0,a.jsx)(f,{children:(0,a.jsx)(N,{onUpload:o,disabled:t})})]}),(0,a.jsx)(F,{documents:E,isVisible:b,onClose:()=>A(!1)}),(0,a.jsxs)(g,{children:[(0,a.jsx)(p,{children:(0,a.jsx)(j,{className:"text-lg font-semibold",children:"OpenAI API Key"})}),(0,a.jsx)(f,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:h?"text":"password",value:d.openaiApiKey||"",onChange:e=>x({...d,openaiApiKey:e.target.value}),placeholder:"Enter your OpenAI API key",className:"w-full px-3 py-2 pr-20 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t}),(0,a.jsx)("button",{type:"button",onClick:()=>y(!h),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-gray-600 hover:text-gray-800",disabled:t,children:h?"Hide":"Show"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Your API key is sent directly to OpenAI and is not stored on our servers. Get your key from"," ",(0,a.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"platform.openai.com"})]}),d.openaiApiKey&&(0,a.jsx)("button",{type:"button",onClick:()=>{x({...d,openaiApiKey:""}),localStorage.removeItem("openai_api_key")},className:"text-xs text-red-600 hover:text-red-800",disabled:t,children:"Clear"})]})]})})]}),(0,a.jsxs)(g,{children:[(0,a.jsx)(p,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(j,{className:"flex items-center",children:[(0,a.jsx)(q.Z,{className:"h-5 w-5 mr-2"}),"Generation Settings"]}),(0,a.jsxs)(v,{variant:"outline",size:"sm",onClick:()=>u(!m),disabled:t,children:[m?"Hide":"Show"," Advanced"]})]})}),(0,a.jsxs)(f,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Questions"}),(0,a.jsx)("input",{type:"number",min:"1",max:"50",value:d.maxQuestions,onChange:e=>x({...d,maxQuestions:parseInt(e.target.value)||10}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity Target (1-10)"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",value:d.complexityTarget,onChange:e=>x({...d,complexityTarget:parseInt(e.target.value)||5}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t})]})]}),m&&(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Evolution Types"}),(0,a.jsx)("div",{className:"space-y-2",children:["simple","multi_context","reasoning"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:d.evolutionTypes.includes(e),onChange:s=>{s.target.checked?x({...d,evolutionTypes:[...d.evolutionTypes,e]}):x({...d,evolutionTypes:d.evolutionTypes.filter(s=>s!==e)})},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:t}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:I[e]})]},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),(0,a.jsxs)("select",{value:d.language,onChange:e=>x({...d,language:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t,children:[(0,a.jsx)("option",{value:"en",children:"English"}),(0,a.jsx)("option",{value:"es",children:"Spanish"}),(0,a.jsx)("option",{value:"fr",children:"French"}),(0,a.jsx)("option",{value:"de",children:"German"}),(0,a.jsx)("option",{value:"zh",children:"Chinese"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"includeMetadata",checked:d.includeMetadata,onChange:e=>x({...d,includeMetadata:e.target.checked}),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:t}),(0,a.jsx)("label",{htmlFor:"includeMetadata",className:"text-sm text-gray-700",children:"Include detailed metadata"})]})]})]})]})]}),(0,a.jsx)(g,{children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Generate Synthetic Data"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[c.length," document",1!==c.length?"s":""," ready for processing"]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[i&&(0,a.jsxs)(v,{variant:"outline",onClick:()=>{if(!i)return;let e=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="ragas-results-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},disabled:t,children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"Download Results"]}),(0,a.jsx)(v,{onClick:P,disabled:0===c.length||t||0===d.evolutionTypes.length||!d.openaiApiKey,className:"min-w-[120px]",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Generate"]})})]})]}),t&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:l}),(0,a.jsxs)("span",{className:"text-gray-500",children:[n,"%"]})]}),(0,a.jsx)(w,{value:n,className:"w-full"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"This may take a few minutes depending on document size and complexity."})]})]})})]})},D=(0,y.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function z(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:m(D({variant:t}),s),...r})}var P=t(236),I=t(3260);let M=e=>{let{content:s,className:t=""}=e;return(0,a.jsx)("div",{className:"prose prose-gray max-w-none ".concat(t),children:(0,a.jsx)(P.UG,{remarkPlugins:[I.Z],components:{h1:e=>{let{children:s}=e;return(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 mt-6",children:s})},h2:e=>{let{children:s}=e;return(0,a.jsx)("h2",{className:"text-xl font-bold mb-3 mt-5",children:s})},h3:e=>{let{children:s}=e;return(0,a.jsx)("h3",{className:"text-lg font-bold mb-2 mt-4",children:s})},p:e=>{let{children:s}=e;return r.Children.toArray(s).some(e=>"string"!=typeof e||e.trim().length>0)?(0,a.jsx)("p",{className:"mb-4 leading-relaxed",children:s}):null},ul:e=>{let{children:s}=e;return(0,a.jsx)("ul",{className:"list-disc list-inside mb-4 space-y-1",children:s})},ol:e=>{let{children:s}=e;return(0,a.jsx)("ol",{className:"list-decimal list-inside mb-4 space-y-1",children:s})},li:e=>{let{children:s}=e;return(0,a.jsx)("li",{className:"ml-4",children:s})},blockquote:e=>{let{children:s}=e;return(0,a.jsx)("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic my-4",children:s})},code:e=>{let{children:s}=e;return(0,a.jsx)("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-sm",children:s})},pre:e=>{let{children:s}=e;return(0,a.jsx)("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto mb-4 mt-4",children:s})},a:e=>{let{href:s,children:t}=e;return(0,a.jsx)("a",{href:s,className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:t})},table:e=>{let{children:s}=e;return(0,a.jsx)("div",{className:"overflow-x-auto mb-4",children:(0,a.jsx)("table",{className:"min-w-full border-collapse border border-gray-300",children:s})})},th:e=>{let{children:s}=e;return(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2 bg-gray-100 font-semibold text-left",children:s})},td:e=>{let{children:s}=e;return(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:s})}},children:s})})};var K=t(6221),O=t(3417),U=t(1769),B=t(401),L=t(8867),Q=t(875),H=t(407);let V=e=>{let{results:s}=e,[t,n]=(0,r.useState)(new Set),[l,i]=(0,r.useState)("overview"),[c,o]=(0,r.useState)(new Set),d=e=>{let s=new Set(t);s.has(e)?s.delete(e):s.add(e),n(s)},x=async(e,s)=>{try{await navigator.clipboard.writeText(e),o(e=>new Set(Array.from(e).concat(s))),setTimeout(()=>{o(e=>{let t=new Set(e);return t.delete(s),t})},2e3)}catch(e){console.error("Failed to copy text: ",e)}},m=e=>{switch(e){case"simple":return"bg-blue-100 text-blue-800 border-blue-200";case"multi_context":return"bg-green-100 text-green-800 border-green-200";case"reasoning":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},u=[{id:"overview",label:"Overview",icon:K.Z},{id:"questions",label:"Questions",icon:O.Z},{id:"answers",label:"Answers",icon:E.Z},{id:"contexts",label:"Contexts",icon:U.Z}];return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsx)(g,{children:(0,a.jsx)(f,{className:"p-0",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"flex space-x-8 px-6",children:u.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>i(e.id),className:"\n                      flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                      ".concat(l===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                    "),children:[(0,a.jsx)(s,{className:"h-4 w-4 mr-2"}),e.label]},e.id)})})})})}),"overview"===l&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(g,{children:(0,a.jsx)(f,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(O.Z,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Questions"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.generation_metadata.total_questions})]})]})})}),(0,a.jsx)(g,{children:(0,a.jsx)(f,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(E.Z,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Simple Evolution"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.generation_metadata.evolution_types_count.simple||0})]})]})})}),(0,a.jsx)(g,{children:(0,a.jsx)(f,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(U.Z,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Multi-Context"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.generation_metadata.evolution_types_count.multi_context||0})]})]})})}),(0,a.jsx)(g,{children:(0,a.jsx)(f,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,a.jsx)(K.Z,{className:"h-6 w-6 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Reasoning"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.generation_metadata.evolution_types_count.reasoning||0})]})]})})})]}),(0,a.jsxs)(g,{children:[(0,a.jsx)(p,{children:(0,a.jsx)(j,{children:"Generation Summary"})}),(0,a.jsx)(f,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Generation Details"}),(0,a.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"Generated:"}),(0,a.jsx)("dd",{className:"text-gray-900",children:h(s.generation_metadata.generation_timestamp)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"Total Questions:"}),(0,a.jsx)("dd",{className:"text-gray-900",children:s.generation_metadata.total_questions})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"Answers Generated:"}),(0,a.jsx)("dd",{className:"text-gray-900",children:s.question_answers.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"text-gray-600",children:"Contexts Retrieved:"}),(0,a.jsx)("dd",{className:"text-gray-900",children:s.question_contexts.length})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Evolution Types"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(s.generation_metadata.evolution_types_count).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(z,{className:m(s),children:s.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[t," questions"]})]},s)})})]})]})})]})]}),"questions"===l&&(0,a.jsx)("div",{className:"space-y-4",children:s.evolved_questions.map((e,s)=>(0,a.jsx)(g,{children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)(z,{className:m(e.evolution_type),children:e.evolution_type.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Complexity: ",e.complexity_score,"/10"]}),(0,a.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>x(e.question,"question-".concat(e.id)),className:"h-6 w-6 p-0",children:c.has("question-".concat(e.id))?(0,a.jsx)(B.Z,{className:"h-3 w-3 text-green-600"}):(0,a.jsx)(L.Z,{className:"h-3 w-3"})})]}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 whitespace-pre-wrap",children:e.question}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Sources: ",e.source_document_ids.join(", ")]})]}),(0,a.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>d(e.id),children:t.has(e.id)?(0,a.jsx)(Q.Z,{className:"h-4 w-4"}):(0,a.jsx)(H.Z,{className:"h-4 w-4"})})]}),t.has(e.id)&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Original Question:"}),(0,a.jsx)("p",{className:"text-gray-600 whitespace-pre-wrap break-words overflow-x-auto",children:e.metadata.original_question||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Evolution Time:"}),(0,a.jsx)("p",{className:"text-gray-600",children:h(e.metadata.evolution_timestamp)})]}),e.metadata.requires_reasoning&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Requires Reasoning:"}),(0,a.jsx)(z,{variant:"outline",children:"Yes"})]}),e.metadata.requires_multiple_contexts&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Multiple Contexts:"}),(0,a.jsx)(z,{variant:"outline",children:"Yes"})]})]})})]})},e.id))}),"answers"===l&&(0,a.jsx)("div",{className:"space-y-4",children:s.question_answers.map((e,t)=>{let r=s.evolved_questions.find(s=>s.id===e.question_id);return(0,a.jsx)(g,{children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 whitespace-pre-wrap",children:(null==r?void 0:r.question)||"Question not found"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[r&&(0,a.jsx)(z,{className:m(r.evolution_type),children:r.evolution_type.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Confidence: ",(100*e.confidence_score).toFixed(1),"%"]}),(0,a.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>x(e.answer,"answer-".concat(e.question_id)),className:"h-6 w-6 p-0",children:c.has("answer-".concat(e.question_id))?(0,a.jsx)(B.Z,{className:"h-3 w-3 text-green-600"}):(0,a.jsx)(L.Z,{className:"h-3 w-3"})})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsx)(M,{content:e.answer})}),(0,a.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["Sources: ",e.source_documents.join(", ")]})]})},e.question_id)})}),"contexts"===l&&(0,a.jsx)("div",{className:"space-y-4",children:s.question_contexts.map((e,t)=>{let r=s.evolved_questions.find(s=>s.id===e.question_id);return(0,a.jsx)(g,{children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 whitespace-pre-wrap",children:(null==r?void 0:r.question)||"Question not found"}),r&&(0,a.jsx)(z,{className:m(r.evolution_type),children:r.evolution_type.replace("_"," ")})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.contexts.map((s,t)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Context ",t+1]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Relevance: ",(100*e.relevance_scores[t]).toFixed(1),"%"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Source: ",e.context_sources[t]]}),(0,a.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>x(s,"context-".concat(e.question_id,"-").concat(t)),className:"h-6 w-6 p-0",children:c.has("context-".concat(e.question_id,"-").concat(t))?(0,a.jsx)(B.Z,{className:"h-3 w-3 text-green-600"}):(0,a.jsx)(L.Z,{className:"h-3 w-3"})})]})]}),(0,a.jsx)("pre",{className:"text-gray-800 whitespace-pre-wrap font-sans text-sm leading-relaxed",children:s})]},t))})]})},e.question_id)})})]})},Y=(0,y.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),J=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:m(Y({variant:r}),t),...n})});J.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:m("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let W=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:m("text-sm [&_p]:leading-relaxed",t),...r})});W.displayName="AlertDescription";var X=t(1239),$=t(5302);function ee(){let[e,s]=(0,r.useState)(!1),[t,n]=(0,r.useState)(0),[l,c]=(0,r.useState)(""),[o,d]=(0,r.useState)(null),[x,m]=(0,r.useState)(null),u=(0,r.useCallback)(()=>{let e=["Processing documents...","Extracting initial questions...","Applying simple evolution...","Generating multi-context questions...","Creating reasoning questions...","Generating answers...","Retrieving contexts...","Finalizing results..."],s=0,t=0,a=setInterval(()=>{if(t>=100){clearInterval(a);return}t+=15*Math.random()+5,(t=Math.min(t,100))>100/e.length*(s+1)&&(s=Math.min(s+1,e.length-1)),n(Math.floor(t)),c(e[s])},1e3);return a},[]),h=async(e,t)=>{s(!0),n(0),c("Initializing..."),m(null),d(null);let a=u();try{let r=new FormData;e.forEach((e,s)=>{r.append("document_".concat(s),e)}),r.append("config",JSON.stringify(t));let l=await fetch("/api/generate",{method:"POST",body:r});if(!l.ok){let e="HTTP ".concat(l.status,": ").concat(l.statusText);try{e=(await l.json()).error||e}catch(s){try{let s=await l.text();s&&(e=s)}catch(e){}}throw Error(e)}let i=await l.json();clearInterval(a),n(100),c("Generation complete!"),setTimeout(()=>{d(i),s(!1)},500)}catch(e){clearInterval(a),m(e instanceof Error?e.message:"An unknown error occurred"),s(!1),n(0),c("")}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"RAGAS Synthetic Data Generation"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Generate high-quality synthetic training data using LangGraph Agent architecture with Evol-Instruct methodology. Transform your documents into evolved questions, comprehensive answers, and relevant contexts."})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(g,{className:"text-center",children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(X.Z,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"LangGraph Architecture"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Agent-based processing pipeline with specialized evolution agents"})]})}),(0,a.jsx)(g,{className:"text-center",children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)($.Z,{className:"h-6 w-6 text-green-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Three Evolution Types"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Simple, Multi-Context, and Reasoning evolution for comprehensive coverage"})]})}),(0,a.jsx)(g,{className:"text-center",children:(0,a.jsxs)(f,{className:"p-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(i.Z,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Production Ready"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Deployed on Vercel with security, monitoring, and scalability"})]})})]})]}),x&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(J,{variant:"destructive",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsxs)(W,{children:[(0,a.jsx)("strong",{children:"Generation Error:"})," ",x]})]})}),!o&&(0,a.jsx)("div",{className:"animate-fade-in",children:(0,a.jsx)(G,{onGenerate:h,isGenerating:e,progress:t,currentStage:l,results:o})}),o&&(0,a.jsxs)("div",{className:"animate-fade-in",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Generation Results"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Successfully generated ",o.generation_metadata.total_questions," questions with answers and contexts"]})]}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsx)("button",{onClick:()=>{d(null),m(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Generate New"})})]}),(0,a.jsx)(V,{results:o})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsx)(g,{className:"w-96",children:(0,a.jsx)(f,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(k.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Generating Synthetic Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:l}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[t,"% complete"]})]})})})})]})})}}},function(e){e.O(0,[270,971,117,744],function(){return e(e.s=5400)}),_N_E=e.O()}]);